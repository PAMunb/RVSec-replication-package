/*
 * This file was automatically generated by EvoSuite
 * Thu Apr 21 21:13:23 GMT 2022
 */

package org.apache.meecrowave.openwebbeans;

import org.junit.Test;
import static org.junit.Assert.*;
import static org.evosuite.shaded.org.mockito.Mockito.*;
import static org.evosuite.runtime.EvoAssertions.*;
import java.io.File;
import java.net.URL;
import java.net.URLStreamHandler;
import java.util.HashSet;
import java.util.LinkedHashSet;
import java.util.Set;
import java.util.TreeSet;
import java.util.function.Consumer;
import javax.servlet.ServletContext;
import org.apache.catalina.webresources.ClasspathURLStreamHandler;
import org.apache.meecrowave.openwebbeans.OWBTomcatWebScannerService;
import org.apache.openwebbeans.se.CDISeScannerService;
import org.apache.tomcat.util.scan.StandardJarScanFilter;
import org.apache.webbeans.config.WebBeansContext;
import org.apache.webbeans.config.WebBeansFinder;
import org.apache.webbeans.corespi.scanner.xbean.OwbAnnotationFinder;
import org.apache.webbeans.exception.WebBeansDeploymentException;
import org.apache.webbeans.spi.SingletonService;
import org.evosuite.runtime.EvoRunner;
import org.evosuite.runtime.EvoRunnerParameters;
import org.evosuite.runtime.ViolatedAssumptionAnswer;
import org.evosuite.runtime.mock.java.net.MockURL;
import org.junit.runner.RunWith;

@RunWith(EvoRunner.class) @EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true, separateClassLoader = true) 
public class OWBTomcatWebScannerService_ESTest extends OWBTomcatWebScannerService_ESTest_scaffolding {

  @Test(timeout = 4000)
  public void test00()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      TreeSet<URL> treeSet0 = new TreeSet<URL>();
      oWBTomcatWebScannerService0.filterExcludedJars(treeSet0);
      oWBTomcatWebScannerService0.isExcludedJar("linkng");
  }

  @Test(timeout = 4000)
  public void test01()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      SingletonService<WebBeansContext> singletonService0 = (SingletonService<WebBeansContext>) mock(SingletonService.class, new ViolatedAssumptionAnswer());
      doReturn((Object) null).when(singletonService0).get(any());
      WebBeansFinder.setSingletonService(singletonService0);
      oWBTomcatWebScannerService0.webBeansContext();
  }

  @Test(timeout = 4000)
  public void test02()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      oWBTomcatWebScannerService0.webBeansContext();
  }

  @Test(timeout = 4000)
  public void test03()  throws Throwable  {
      CDISeScannerService cDISeScannerService0 = new CDISeScannerService();
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService(cDISeScannerService0);
      cDISeScannerService0.disableAutoScanning();
      oWBTomcatWebScannerService0.scan();
      oWBTomcatWebScannerService0.getFinder();
  }

  @Test(timeout = 4000)
  public void test04()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      WebBeansFinder.setSingletonService((SingletonService<WebBeansContext>) null);
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.webBeansContext();
        fail("Expecting exception: NullPointerException");
      
      } catch(NullPointerException e) {
         //
         // no message in exception (getMessage() returned null)
         //
         verifyException("org.apache.webbeans.config.WebBeansFinder", e);
      }
  }

  @Test(timeout = 4000)
  public void test05()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      StandardJarScanFilter standardJarScanFilter0 = new StandardJarScanFilter();
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.setFilter(standardJarScanFilter0, (ServletContext) null);
        fail("Expecting exception: NullPointerException");
      
      } catch(NullPointerException e) {
         //
         // no message in exception (getMessage() returned null)
         //
         verifyException("org.apache.meecrowave.openwebbeans.OWBTomcatWebScannerService", e);
      }
  }

  @Test(timeout = 4000)
  public void test06()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.isExcludedJar("/WEB-INF/beans.xml");
        fail("Expecting exception: NullPointerException");
      
      } catch(NullPointerException e) {
         //
         // no message in exception (getMessage() returned null)
         //
      }
  }

  @Test(timeout = 4000)
  public void test07()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.filterExcludedJars((Set<URL>) null);
        fail("Expecting exception: NullPointerException");
      
      } catch(NullPointerException e) {
         //
         // no message in exception (getMessage() returned null)
         //
         verifyException("org.apache.webbeans.corespi.scanner.AbstractMetaDataDiscovery", e);
      }
  }

  @Test(timeout = 4000)
  public void test08()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      URL uRL0 = MockURL.getFtpExample();
      URL uRL1 = MockURL.URL(uRL0, "/WEB-INF/beans.xml");
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.addWebBeansXmlLocation(uRL1);
        fail("Expecting exception: WebBeansDeploymentException");
      
      } catch(WebBeansDeploymentException e) {
         //
         // Error while parsing the beans.xml file ftp://ftp.someFakeButWellFormedURL.org/WEB-INF/beans.xml
         //
         verifyException("org.apache.webbeans.xml.DefaultBeanArchiveService", e);
      }
  }

  @Test(timeout = 4000)
  public void test09()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.addWebBeansXmlLocation((URL) null);
        fail("Expecting exception: NullPointerException");
      
      } catch(NullPointerException e) {
         //
         // no message in exception (getMessage() returned null)
         //
         verifyException("org.evosuite.runtime.mock.java.net.MockURL", e);
      }
  }

  @Test(timeout = 4000)
  public void test10()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      URL uRL0 = MockURL.URL("jar:file:jar:file:jar:ile:/home/pedro/.m2/repository/Qom/googlecode/gentyref/gentyref/1.2.0/ge\"tyrf-1.2.0.jr!/file:/home/pedo/.m2/epository/com/googlecode/gentyref/gentyref/1.2.0/gen)yref-1..n.jar!/file:jar:ile:/home/pedro/.m2/repository/Qom/googlecode/gentyref/gentyref/1.2.0/ge\"tyrf-1.2.0.jr!/file:/home/pedo/.m2/epository/com/googlecode/gentyref/gentyref/1.2.0/gen)yref-1..0.jar!/x%E-*a]x</x%E-*a]x</");
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.addWebBeansXmlLocation(uRL0);
        fail("Expecting exception: IllegalArgumentException");
      
      } catch(IllegalArgumentException e) {
         //
         // Invalid % sequence (%E-) at: 384
         //
         verifyException("org.apache.xbean.finder.archive.FileArchive", e);
      }
  }

  @Test(timeout = 4000)
  public void test11()  throws Throwable  {
      CDISeScannerService cDISeScannerService0 = new CDISeScannerService();
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService(cDISeScannerService0);
      oWBTomcatWebScannerService0.getFinder();
  }

  @Test(timeout = 4000)
  public void test12()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      ClasspathURLStreamHandler classpathURLStreamHandler0 = new ClasspathURLStreamHandler();
      URL uRL0 = MockURL.URL("jar:jar:file:jar:file:/home/pedro/.m2/repository/org/apache/tomcat/tomcat-jni/9.0.2/tomcat-jni-9.0.2.jar!/file:/home/pedro/.m2/repository/org/apache/tomcat/tomcat-jni/9.0.2/tomcat-jni-9.0.2.jar!/file:jar:file:/home/pedro/.m2/repository/org/apache/tomcat/tomcat-jni/9.0.2/tomcat-jni-9.0.2.jar!/file:/home/pedro/.m2/repository/org/apache/tomcat/tomcat-jni/9.0.2/tomcat-jni-9.0.2.jar!/", "jar:file:jar:file:/home/pedro/.m2/repository/org/apache/tomcat/tomcat-jni/9.0.2/tomcat-jni-9.0.2.jar!/file:/home/pedro/.m2/repository/org/apache/tomcat/tomcat-jni/9.0.2/tomcat-jni-9.0.2.jar!/", 707, "jar:jar:file:jar:file:/home/pedro/.m2/repository/org/apache/tomcat/tomcat-jni/9.0.2/tomcat-jni-9.0.2.jar!/file:/home/pedro/.m2/repository/org/apache/tomcat/tomcat-jni/9.0.2/tomcat-jni-9.0.2.jar!/file:jar:file:/home/pedro/.m2/repository/org/apache/tomcat/tomcat-jni/9.0.2/tomcat-jni-9.0.2.jar!/file:/home/pedro/.m2/repository/org/apache/tomcat/tomcat-jni/9.0.2/tomcat-jni-9.0.2.jar!/", (URLStreamHandler) classpathURLStreamHandler0);
      oWBTomcatWebScannerService0.addWebBeansXmlLocation(uRL0);
      Set<URL> set0 = oWBTomcatWebScannerService0.getBeanXmls();
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.filterExcludedJars(set0);
        fail("Expecting exception: UnsupportedOperationException");
      
      } catch(UnsupportedOperationException e) {
         //
         // no message in exception (getMessage() returned null)
         //
         verifyException("java.util.Collections$UnmodifiableCollection$1", e);
      }
  }

  @Test(timeout = 4000)
  public void test13()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      URL uRL0 = MockURL.getFileExample();
      oWBTomcatWebScannerService0.addWebBeansXmlLocation(uRL0);
      oWBTomcatWebScannerService0.addWebBeansXmlLocation(uRL0);
      assertNull(uRL0.getQuery());
  }

  @Test(timeout = 4000)
  public void test14()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      TreeSet<URL> treeSet0 = new TreeSet<URL>();
      oWBTomcatWebScannerService0.filterExcludedJars(treeSet0);
      int int0 = oWBTomcatWebScannerService0.isExcludedJar("jar:file:/home/pedro/.m2/repository/org/apache/ger");
      assertEquals((-2), int0);
  }

  @Test(timeout = 4000)
  public void test15()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      LinkedHashSet<URL> linkedHashSet0 = new LinkedHashSet<URL>();
      oWBTomcatWebScannerService0.filterExcludedJars(linkedHashSet0);
      int int0 = oWBTomcatWebScannerService0.isExcludedJar("file:/usr/lib/jvm/adoptopenjdk-8-hotspot-amd64/jrejar:file:/home/pedro/.m2/repository/org/apache/geronimo/specs/geronimo-jsonb_1.0_spec/1.0/geronimo-jsonb_1.0_spec-1.0.jar!/file:/home/pedro/.m2/repository/org/apache/geronimo/specs/geronimo-jsonb_1.0_spec/1.0/geronimo-jsonb_1.0_spec-1.0.jar!/");
      assertEquals(50, int0);
  }

  @Test(timeout = 4000)
  public void test16()  throws Throwable  {
      CDISeScannerService cDISeScannerService0 = new CDISeScannerService();
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService(cDISeScannerService0);
      cDISeScannerService0.disableAutoScanning();
      oWBTomcatWebScannerService0.scan();
      oWBTomcatWebScannerService0.scan();
      assertFalse(oWBTomcatWebScannerService0.isBDABeansXmlScanningEnabled());
  }

  @Test(timeout = 4000)
  public void test17()  throws Throwable  {
      CDISeScannerService cDISeScannerService0 = new CDISeScannerService();
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService(cDISeScannerService0);
      Set<Class<?>> set0 = oWBTomcatWebScannerService0.getBeanClasses();
      assertTrue(set0.isEmpty());
  }

  @Test(timeout = 4000)
  public void test18()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      Set<Class<?>> set0 = oWBTomcatWebScannerService0.getBeanClasses();
      assertTrue(set0.isEmpty());
  }

  @Test(timeout = 4000)
  public void test19()  throws Throwable  {
      CDISeScannerService cDISeScannerService0 = new CDISeScannerService();
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService(cDISeScannerService0);
      oWBTomcatWebScannerService0.release();
      assertFalse(oWBTomcatWebScannerService0.isBDABeansXmlScanningEnabled());
  }

  @Test(timeout = 4000)
  public void test20()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      oWBTomcatWebScannerService0.release();
      assertFalse(oWBTomcatWebScannerService0.isBDABeansXmlScanningEnabled());
  }

  @Test(timeout = 4000)
  public void test21()  throws Throwable  {
      CDISeScannerService cDISeScannerService0 = new CDISeScannerService();
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService(cDISeScannerService0);
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.getBeanClassesPerBda();
        fail("Expecting exception: NullPointerException");
      
      } catch(NullPointerException e) {
         //
         // no message in exception (getMessage() returned null)
         //
         verifyException("org.apache.webbeans.corespi.scanner.AbstractMetaDataDiscovery", e);
      }
  }

  @Test(timeout = 4000)
  public void test22()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.getBeanClassesPerBda();
        fail("Expecting exception: NullPointerException");
      
      } catch(NullPointerException e) {
         //
         // no message in exception (getMessage() returned null)
         //
         verifyException("org.apache.webbeans.corespi.scanner.AbstractMetaDataDiscovery", e);
      }
  }

  @Test(timeout = 4000)
  public void test23()  throws Throwable  {
      CDISeScannerService cDISeScannerService0 = new CDISeScannerService();
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService(cDISeScannerService0);
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.scan();
        fail("Expecting exception: WebBeansDeploymentException");
      
      } catch(WebBeansDeploymentException e) {
         //
         // java.lang.NullPointerException
         //
         verifyException("org.apache.webbeans.corespi.scanner.AbstractMetaDataDiscovery", e);
      }
  }

  @Test(timeout = 4000)
  public void test24()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      OwbAnnotationFinder owbAnnotationFinder0 = oWBTomcatWebScannerService0.getFinder();
      assertNull(owbAnnotationFinder0);
  }

  @Test(timeout = 4000)
  public void test25()  throws Throwable  {
      CDISeScannerService cDISeScannerService0 = new CDISeScannerService();
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService(cDISeScannerService0);
      HashSet<URL> hashSet0 = new HashSet<URL>();
      oWBTomcatWebScannerService0.init(hashSet0);
      assertFalse(oWBTomcatWebScannerService0.isBDABeansXmlScanningEnabled());
  }

  @Test(timeout = 4000)
  public void test26()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      Object object0 = new Object();
      oWBTomcatWebScannerService0.init(object0);
      assertFalse(oWBTomcatWebScannerService0.isBDABeansXmlScanningEnabled());
  }

  @Test(timeout = 4000)
  public void test27()  throws Throwable  {
      CDISeScannerService cDISeScannerService0 = new CDISeScannerService();
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService(cDISeScannerService0);
      oWBTomcatWebScannerService0.setDocBase("META-INF/beans.xml");
      assertFalse(oWBTomcatWebScannerService0.isBDABeansXmlScanningEnabled());
  }

  @Test(timeout = 4000)
  public void test28()  throws Throwable  {
      CDISeScannerService cDISeScannerService0 = new CDISeScannerService();
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService(cDISeScannerService0);
      oWBTomcatWebScannerService0.setShared("META-INF/beans.xml");
      assertFalse(oWBTomcatWebScannerService0.isBDABeansXmlScanningEnabled());
  }

  @Test(timeout = 4000)
  public void test29()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      oWBTomcatWebScannerService0.setFileVisitor((Consumer<File>) null);
      assertFalse(oWBTomcatWebScannerService0.isBDABeansXmlScanningEnabled());
  }

  @Test(timeout = 4000)
  public void test30()  throws Throwable  {
      OWBTomcatWebScannerService oWBTomcatWebScannerService0 = new OWBTomcatWebScannerService();
      // Undeclared exception!
      try { 
        oWBTomcatWebScannerService0.scan();
        fail("Expecting exception: WebBeansDeploymentException");
      
      } catch(WebBeansDeploymentException e) {
         //
         // java.lang.NullPointerException
         //
         verifyException("org.apache.webbeans.corespi.scanner.AbstractMetaDataDiscovery", e);
      }
  }
}
